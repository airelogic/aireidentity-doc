import{_ as e,c as a,o,a4 as t}from"./chunks/framework.ttppV29E.js";const n="/assets/mapping-rules.BiflZBNK.png",f=JSON.parse('{"title":"Mapping Rules","description":"","frontmatter":{},"headers":[],"relativePath":"docs/tenant-providers/mapping-rules.md","filePath":"docs/tenant-providers/mapping-rules.md","lastUpdated":1771411046000}'),i={name:"docs/tenant-providers/mapping-rules.md"},s=t('<h1 id="mapping-rules" tabindex="-1">Mapping Rules <a class="header-anchor" href="#mapping-rules" aria-label="Permalink to &quot;Mapping Rules&quot;">​</a></h1><p>When a user logs in, the claims from the external identity provider are checked against the mapping rules defined for the tenant. If a claim matches a rule, the corresponding <strong>AireIdentity</strong> role is assigned to the user.</p><p>This allows you to control user access and permissions based on attributes provided by the external identity provider.</p><h2 id="configuring-mapping-rules" tabindex="-1">Configuring Mapping Rules <a class="header-anchor" href="#configuring-mapping-rules" aria-label="Permalink to &quot;Configuring Mapping Rules&quot;">​</a></h2><p>To configure mapping rules, navigate to the <code>Providers</code> tab under the <code>Tenant</code> section in the navigation bar. Select the provider you want to configure mapping rules for by clicking on its name. Then, click on the <code>Mapping Rules</code> tab.</p><p>You can enable or disable mapping rules using the toggle button at the top of the page and add new rules by clicking the <code>Add Rule</code> button.</p><p>You must select all the roles that you want to be available for mapping.</p><h3 id="rules-and-conditions" tabindex="-1">Rules and Conditions <a class="header-anchor" href="#rules-and-conditions" aria-label="Permalink to &quot;Rules and Conditions&quot;">​</a></h3><p>You can add multiple rules. For each rule, you can specify conditions based on claims. Each condition requires a claim/attribute name, a condition (equals, contains, starts with, ends with), and a value to match against.</p><p>For each rule, you must specify an environment and one or more roles to assign if the conditions are met. You must also specify whether <strong>ALL</strong> conditions must be met, or <strong>ANY</strong> condition can be met for the rule to apply.</p><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3><p>In the screenshot below, if a user logs in with a claim <code>role</code> that equals <code>admin</code>, they will be assigned the <code>Tenant Admin</code> role in the <code>Production</code> environment.</p><p><img src="'+n+'" alt="Mapping rules"></p><h3 id="role-mapping-behavior" tabindex="-1">Role Mapping Behavior <a class="header-anchor" href="#role-mapping-behavior" aria-label="Permalink to &quot;Role Mapping Behavior&quot;">​</a></h3><p>There are two options for role mapping behavior when a user logs in:</p><ol><li><p><strong>Append</strong>: The specified existing roles for the user are preserved, and the roles will be added for any matching rules.</p></li><li><p><strong>Replace</strong>: The specified roles for the user are first cleared, and the roles will be added for any matching rules.</p></li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This only applies to users logging in via the external identity provider where these rules are configured. Users logging in with local credentials (username/password) or other providers will retain their existing roles.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>Note</strong>: If no rules match, the user will not be assigned any roles. This may result in the user being unable to access the tenant if they do not have any other roles assigned.</p></div>',18),r=[s];function l(p,d,c,h,u,g){return o(),a("div",null,r)}const b=e(i,[["render",l]]);export{f as __pageData,b as default};
